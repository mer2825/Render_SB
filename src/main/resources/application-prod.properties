# Archivo: src/main/resources/application-prod.properties

# -----------------------------------------------------------
# 1. CONEXIÓN A POSTGRESQL (Método Automático de Render)
# -----------------------------------------------------------

# Al no especificar la URL, Spring Boot busca automáticamente la variable de entorno
# 'DATABASE_URL' que Render crea, y la usa para conectarse.
spring.datasource.driver-class-name=org.postgresql.Driver

# SOLUCIÓN CRÍTICA: Ajustar el dialecto de Hibernate de MySQL a PostgreSQL.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# -----------------------------------------------------------
# 2. CONFIGURACIÓN DE JPA (Hibernate)
# -----------------------------------------------------------

# En un entorno de producción (MVP), 'update' permite que Hibernate modifique
# el esquema si es necesario. Para máxima seguridad, se recomienda 'none' o 'validate'.
spring.jpa.hibernate.ddl-auto=update

# Opciones de depuración
spring.jpa.show-sql=true
spring.jpa.open-in-view=true

# -----------------------------------------------------------
# 3. SERVIDOR Y GESTIÓN DE ARCHIVOS
# -----------------------------------------------------------

# Render usa el puerto 8080 por defecto.
server.port=8080

# CRÍTICO PARA ARCHIVOS: En Render (y Docker), solo la ruta /tmp/ es segura 
# para lectura/escritura de archivos temporales (si usas Firebase o guardado local).
file.upload-dir=/tmp/uploads/
